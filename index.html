<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <title>Demo application - v0.1</title>
    <link rel="stylesheet" href="css/bootstrap-united.min.css">
    <link rel="stylesheet" href="css/main.css">

    <script src="js/libs/jquery-1.10.2.min.js"></script>
    <script src="js/libs/jquery.cookie.js"></script>
    <script src="js/libs/handlebars-v1.3.0.js"></script>
    <script src="js/libs/ember-1.8.1.js"></script>
    <script src="js/libs/ember-data-1.0-beta-11.js"></script>
    <script src="js/libs/localstorage_adapter.js"></script>

    <script src="js/libs/moment.js"></script>
    <script src="js/app.js"></script>

    <script type="text/x-handlebars" data-template-name="application">

        <div class="navbar navbar-default" role="navigation">

            <div class="container">

                <div class="navbar-header">
                    {{#link-to "index" class="navbar-brand"}}Home{{/link-to}}
                </div>

                <div class="navbar-collapse collapse">
                    {{#if isAuthenticated}}
                        <ul class="nav navbar-nav navbar-left">
                            <li><a href="#"><span class="glyphicon glyphicon-user"></span> {{currentUser.username}} <i class="fa fa-2x fa-gift"><span class="badge">2</span></i></a></li>
                            {{#link-to 'sessions.index' tagName="li" href=false bubbles=false}}
                                {{#link-to 'sessions.index' bubbles=false}}
                                    <span class="glyphicon glyphicon-usd"></span> Some special item
                                    {{#link-to 'sessions.index' tagName="span" href=false class="badge badge-action"}}click here{{/link-to}}
                                {{/link-to}}
                            {{/link-to}}
                            <li><a href="#"><span class="badge">2</span> Item</a></li>
                            <li><a href="#"><i class="fa fa-users"></i> Item</a></li>
                        </ul>
                    {{else}}
                        <ul class="nav navbar-nav navbar-left">
                            <li>{{#link-to 'users.signup'}}Sign up{{/link-to}}</li>
                            <li>{{#link-to 'sessions.index'}}Login{{/link-to}}</li>
                        </ul>
                    {{/if}}
                    <ul class="nav navbar-nav navbar-right">
                        {{#if isAuthenticated}}
                            <li><a href="#" {{action 'logout'}}>Logout</a></li>
                        {{/if}}
                    </ul>
                </div><!--/.nav-collapse -->
            </div>

        </div>

        <div class="container">
            <div class="row">
                <div class="col-md-10">
                    {{outlet}}
                </div>
            </div>
        </div>

    </script>

    <script type="text/x-handlebars" data-template-name="application0">
        <div class="container">
            <h1>Demo application - v0.1</h1>
            <p>This is an amazing demo to impress your family and friends.</p>
        </div>

        <div class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <div class="navbar-header">
                        {{#link-to "index" class="navbar-brand"}}Home{{/link-to}}
                    </div>
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        {{#if isAuthenticated}}
                            <li>{{#link-to "products"}}Products{{/link-to}}</li>
                        {{/if}}
                        <li>{{#link-to "help"}}Help{{/link-to}}</li>
                        <li>{{#link-to "about"}}About{{/link-to}}</li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        {{#if isAuthenticated}}
                            {{#if isiAdmin}}
                                <li>{{#link-to "admin"}}Admin{{/link-to}}</li>
                            {{/if}}
                            <li><a href="#"><span class="glyphicon glyphicon-user"></span> {{currentUser.username}} <i class="fa fa-2x fa-gift"><span class="badge">2</span></i></a></li>
                            <li>{{#link-to "profile"}}Profile{{/link-to}}</li>
                            <li><a href="#" {{action 'logout'}}>Logout</a></li>
                        {{else}}
                            <li>{{#link-to 'users.signup'}}Sign up{{/link-to}}</li>
                            <li>{{#link-to 'sessions.index'}}Login{{/link-to}}</li>
                        {{/if}}
                    </ul>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-10">
                    {{outlet}}
                </div>
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="index">
        <h1>Welcome!</h1>
        {{#if isAuthenticated}}
            <h2>To get started just click on one of the navigation links above.</h2>
        {{else}}
            <h2>Please {{#link-to 'sessions.index'}}Login{{/link-to}} or {{#link-to 'users.signup'}}Sign up{{/link-to}}</h2>
        {{/if}}
    </script>

    <script type="text/x-handlebars" data-template-name="about">
        <h1 class="page-header">About</h1>
        <h2>This is the about page.</h2>
    </script>

    <script type="text/x-handlebars" data-template-name="loading">
        <h1 class="page-header">Loading</h1>
        <h2>This is the loading template.</h2>
    </script>

    <script type="text/x-handlebars" data-template-name="error">
        <h1 class="page-header">Error</h1>
        <h2>This is the error template.</h2>
    </script>

    <script type="text/x-handlebars" data-template-name="secret">
        <h1 class="page-header">Secret</h1>
        <h2>This is the secret template.</h2>
        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Username</th>
                </tr>
            </thead>
            <tbody>
                {{#each model}}
                    <tr>
                        <td>{{#link-to 'users.user' this}}{{name}}{{/link-to}}</td>
                        <td>{{email}}</td>
                        <td>{{username}}</td>
                    </tr>
                {{/each}}
            </tbody>
        </table>

    </script>

    <script type="text/x-handlebars" data-template-name="sessions">
        <h1 class="page-header">Login</h1>
        <h2>Please enter your username and password</h2>
        <div class="jumbotron">
            <form class="form-horizontal" {{action "loginUser" on="submit"}}>
                <div class="form-group">
                    {{input value=username_or_email type="text" class="form-control input-lg" id="username" placeholder="Enter username"}}
                </div>
                <div class="form-group">
                    {{input value=password type="password" class="form-control input-lg" id="password" placeholder="Password"}}
                </div>
                <button type="submit" class="btn btn-primary btn-lg">Login</button>
            </form>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="users/user">
        <h1 class="page-header">User</h1>
        <h2>Profile page for {{name}}.</h2>
        <div class="panel-body">
            Name: {{name}} <br>
            Email: {{email}} <br>
            Username: {{username}} <br>
        </div>
    </script>


    <script type="text/x-handlebars" data-template-name="users/signup">
        <h1 class="page-header">Signup</h1>
        <h2>Please fill in the following fields and submit</h2>
        <div class="jumbotron">
            <form class="form-horizontal" {{action "signupUser" on="submit"}}>
                <div class="form-group">
                    {{input type="text" value=firstName class="form-control input-lg" id="firstName" placeholder="First name"}}
                </div>

                <div class="form-group">
                    {{input type="text" value=lastName class="form-control input-lg" id="lastName" placeholder="Last name"}}
                </div>

                <div class="form-group">
                    {{input type="email" value=email class="form-control input-lg" id="email" placeholder="Email"}}
                </div>

                <div class="form-group">
                    {{input type="text" value=username class="form-control input-lg" id="username" placeholder="Username"}}
                </div>

                <div class="form-group">
                    {{input type="password" value=password class="form-control input-lg" id="password" placeholder="Password"}}
                </div>

                <div class="form-group">
                    {{input type="password" value=password_confirmation class="form-control input-lg" id="password_confirmation" placeholder="Repeat your password"}}
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-lg">Sign up</button>
                </div>
            </form>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="admin">
        <h1 class="page-header">Admin</h1>
        <h2>This is the admin page.</h2>
    </script>

    <script type="text/x-handlebars" data-template-name="profile">
        <h1 class="page-header">Profile</h1>
        <h2>This is the profile page.</h2>
    </script>

    <script type="text/x-handlebars" data-template-name="help">
        <h1 class="page-header">Help</h1>
        <h2>This is the help page.</h2>
    </script>

    <script type="text/x-handlebars" data-template-name="products">
        <h1 class="page-header">Products</h1>
        <h2>This is the products page.</h2>
        <div class="row">
            <div class="col-md-6">
                <h2>{{length}} {{pluralize length single='products'}}</h2>
                <div class="list-group">
                    <div class="list-group-item">
                        <button type="button" class="btn btn-sm" title="Create a new product" {{action "createProduct"}}>
                        <span class="glyphicon glyphicon-plus"></span> Create
                    </button>
                    </div>
                    {{#each}}
                        {{#link-to 'product' this class="list-group-item"}}
                            <span {{bind-attr title=category}} {{bind-attr class=":glyphicon glyphicon"}}></span> {{formatvalue name}} <span class="badge">{{formatvalue price placeholder='?'}}</span>
                        {{/link-to}}
                    {{else}}
                        <li class="list-group-item">No products</li>
                    {{/each}}
                </div>
             </div>
            {{outlet}}
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="product/index">
        <div class="col-md-6">
            <h2>{{formatvalue name}}</h2>
            <div class="list-group">
                <div class="list-group-item">
                    <button type="button" class="btn btn-sm" title="Edit this product" {{action "editProduct" this}}>
                    <span class="glyphicon glyphicon-edit"></span> Edit
                    </button>
                    <button type="button" class="btn btn-sm" title="Delete this product" {{action "deleteProduct" this}}>
                    <span class="glyphicon glyphicon-remove"></span> Delete
                    </button>
                </div>
                {{partial 'product/form'}}
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="product/edit">
        <div class="col-md-6">
            <h2>Edit -- {{formatvalue name}}</h2>
            <div class="list-group">
                {{partial 'product/form' isEditing=isEditing}}
                <li class="list-group-item">
                    <button type="button" class="btn btn-sm" title="Save changes to this product" {{action 'saveEditProduct' this}}>
                        <span class="glyphicon glyphicon-ok"></span> Save
                    </button>
                    <button type="button" class="btn btn-sm" title="Cancel changes to this product" {{action 'cancelEditProduct' this}}>
                        <span class="glyphicon glyphicon-remove"></span> Cancel
                    </button>
                </li>
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="products/new">
        <div class="col-md-6">
            <h2>Create -- {{formatvalue name}}</h2>
            <div class="list-group">
                {{partial 'product/form' isEditing=isEditing this=controller.newProduct}}
                <li class="list-group-item">
                    <button type="button" class="btn btn-sm" title="Create new product" {{action 'saveNewProduct'}}>
                    <span class="glyphicon glyphicon-ok"></span> Create
                    </button>
                    <button type="button" class="btn btn-sm" title="Cancel new product" {{action 'cancelNewProduct'}}>
                    <span class="glyphicon glyphicon-remove"></span> Cancel
                    </button>
                </li>
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="product/_form">
        {{#if id}}
            <li class="list-group-item">
                <div class="row">
                    <div class="col-md-5">Id</div>
                    <div class="col-md-5">{{id}}</div>
                </div>
            </li>
        {{/if}}
        {{#if isEditing}}
            <li class="list-group-item">
                <div class="row">
                    <div class="col-md-5">Name</div>
                    <div class="col-md-5">{{input class="form-control" placeholder="Name of product" value=name}}</div>
                </div>
            </li>
        {{/if}}
        <li class="list-group-item">
            <div class="row">
                <div class="col-md-5">Price</div>
                <div class="col-md-5">
                    {{#if isEditing}}
                        {{input class="form-control" placeholder="Price of product" value=price}}
                    {{else}}
                        {{formatvalue price placeholder='?'}}&nbsp; {{pluralize price single='token'}}
                    {{/if}}
                </div>
            </div>
        </li>
        <li class="list-group-item">
            <div class="row">
                <div class="col-md-5">Category</div>
                <div class="col-md-5">
                    {{#if isEditing}}
                        {{input class="form-control" placeholder="Category of product" value=category}}
                    {{else}}
                        {{formatvalue category}}
                    {{/if}}
                </div>
            </div>
        </li>
    </script>

</head>
<body>

</body>
</html>
