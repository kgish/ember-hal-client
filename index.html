<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <title>Demo application - v0.1</title>
    <link rel="stylesheet" href="css/bootstrap-united.min.css">
    <link rel="stylesheet" href="css/main.css">

    <script src="js/libs/jquery-1.10.2.min.js"></script>
    <script src="js/libs/jquery.cookie.js"></script>
    <script src="js/libs/handlebars-v1.3.0.js"></script>
    <script src="js/libs/ember-1.8.1.js"></script>
    <script src="js/libs/ember-data-1.0-beta-11.js"></script>
    <script src="js/libs/localstorage_adapter.js"></script>

    <script src="js/libs/moment.js"></script>
    <script src="js/app.js"></script>

    <script type="text/x-handlebars" data-template-name="application">
        <div class="container">
            <h1>Demo application - v0.1</h1>
            <p>This is an amazing demo to impress your family and friends.</p>
        </div>
        <div class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <div class="navbar-header">
                        {{#link-to "index" class="navbar-brand"}}Home{{/link-to}}
                    </div>
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        {{#if isAuthenticated}}
                            <li>{{#link-to "products"}}Products{{/link-to}}</li>
                            {{#if isAdmin}}
                                <li>{{#link-to "categories"}}Categories{{/link-to}}</li>
                                <li>{{#link-to "users"}}Users{{/link-to}}</li>
                            {{/if}}
                        {{/if}}
                        <li>{{#link-to "help"}}Help{{/link-to}}</li>
                        <li>{{#link-to "about"}}About{{/link-to}}</li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        {{#if isAuthenticated}}
                            {{#if isiAdmin}}
                                <li>{{#link-to "admin"}}Admin{{/link-to}}</li>
                            {{/if}}
                            <li>{{#link-to "profile"}}Profile{{/link-to}}</li>
                            <li><a href="#" {{action 'logout'}}>Logout</a></li>
                        {{else}}
                            <li>{{#link-to 'signup'}}Sign up{{/link-to}}
                            <li>{{#link-to 'sessions.index'}}Login{{/link-to}}
                        {{/if}}
                    </ul>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-10">
                    {{outlet}}
                </div>
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="index">
        <h1 class="page-header">Home</h1>
        {{#if isAuthenticated}}
            <p>To get started just click on one of the navigation links above.</p>
        {{else}}
            <p>Please login or register.</p>
        {{/if}}
    </script>

    <script type="text/x-handlebars" data-template-name="about">
        <h1 class="page-header">About</h1>
        <p>This is the about page</p>
    </script>

    <script type="text/x-handlebars" data-template-name="login">
        <h1 class="page-header">Login</h1>
        <p>This is the login page</p>
    </script>

    <script type="text/x-handlebars" data-template-name="categories">
        <h1 class="page-header">Categories</h1>
        <p>This is the category page</p>
    </script>

    <script type="text/x-handlebars" data-template-name="users">
        <h1 class="page-header">Users</h1>
        <p>This is the users page</p>
    </script>

    <script type="text/x-handlebars" data-template-name="signup">
        <h1 class="page-header">Sign up</h1>
        <div class="panel-body">
            <form class="form-horizontal" {{action "createUser" on="submit"}}>

                <div class="form-group">
                    <div {{bind-attr class=":form-group :controls errors.firstName:error"}}>
                        <label>First name</label>
                        {{input type="text" value=firstName class="form-control" placeholder="First name"}}
                        <small class="below">{{errors.firstName}}</small>
                    </div>
                </div>

                <div class="form-group">
                    <div {{bind-attr class=":form-group :controls errors.lastName:error"}}>
                        <label>Last name</label>
                        {{input type="text" value=lastName class="form-control" placeholder="Last name"}}
                        <small class="below">{{errors.lastName}}</small>
                    </div>
                </div>

                <div class="form-group">
                    <div {{bind-attr class=":form-group :controls errors.email:error"}}>
                        <label>Email Address</label>
                        {{input type="email" value=email class="form-control" placeholder="example@email.com"}}
                        <small class="below">{{errors.email}}</small>
                    </div>
                </div>

                <div class="form-group">
                    <div {{bind-attr class=":form-group :controls errors.username:error"}}>
                        <label>Username</label>
                        {{input type="text" value=username class="form-control" placeholder="Desired Username"}}
                        <small class="below">{{errors.username}}</small>
                    </div>
                </div>

                <div class="form-group">
                    <div {{bind-attr class=":form-group :controls errors.password:error"}}>
                        <label>Password</label>
                        {{input type="password" value=password class="form-control" placeholder="Password"}}
                        <small class="below">{{errors.password}}</small>
                    </div>
                </div>

                <div class="form-group">
                    <div {{bind-attr class=":form-group :controls errors.password_confirmation:error"}}>
                        <label>Confirm Password</label>
                        {{input type="password" value=password_confirmation class="form-control" placeholder="Repeat your password"}}
                        <small class="below">{{errors.password_confirmation}}</small>
                    </div>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-default">Sign up</button>
                </div>

            </form>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="admin">
        <h1 class="page-header">Admin</h1>
        <p>This is the admin page</p>
    </script>

    <script type="text/x-handlebars" data-template-name="profile">
        <h1 class="page-header">Profile</h1>
        <p>This is the profile page</p>
    </script>

    <script type="text/x-handlebars" data-template-name="help">
        <h1 class="page-header">Help</h1>
        <p>This is the help page</p>
    </script>

    <script type="text/x-handlebars" data-template-name="products">
        <h1 class="page-header">Products</h1>
        <div class="row">
            <div class="col-md-6">
                <h2>{{length}} {{pluralize length single='products'}}</h2>
                <div class="list-group">
                    <div class="list-group-item">
                        <button type="button" class="btn btn-sm" title="Create a new product" {{action "createProduct"}}>
                        <span class="glyphicon glyphicon-plus"></span> Create
                    </button>
                    </div>
                    {{#each}}
                        {{#link-to 'product' this class="list-group-item"}}
                            <span {{bind-attr title=category}} {{bind-attr class=":glyphicon glyphicon"}}></span> {{formatvalue name}} <span class="badge">{{formatvalue price placeholder='?'}}</span>
                        {{/link-to}}
                    {{else}}
                        <li class="list-group-item">No products</li>
                    {{/each}}
                </div>
             </div>
            {{outlet}}
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="product/index">
        <div class="col-md-6">
            <h2>{{formatvalue name}}</h2>
            <div class="list-group">
                <div class="list-group-item">
                    <button type="button" class="btn btn-sm" title="Edit this product" {{action "editProduct" this}}>
                    <span class="glyphicon glyphicon-edit"></span> Edit
                    </button>
                    <button type="button" class="btn btn-sm" title="Delete this product" {{action "deleteProduct" this}}>
                    <span class="glyphicon glyphicon-remove"></span> Delete
                    </button>
                </div>
                {{partial 'product/form'}}
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="product/edit">
        <div class="col-md-6">
            <h2>Edit -- {{formatvalue name}}</h2>
            <div class="list-group">
                {{partial 'product/form' isEditing=isEditing}}
                <li class="list-group-item">
                    <button type="button" class="btn btn-sm" title="Save changes to this product" {{action 'saveEditProduct' this}}>
                        <span class="glyphicon glyphicon-ok"></span> Save
                    </button>
                    <button type="button" class="btn btn-sm" title="Cancel changes to this product" {{action 'cancelEditProduct' this}}>
                        <span class="glyphicon glyphicon-remove"></span> Cancel
                    </button>
                </li>
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="products/new">
        <div class="col-md-6">
            <h2>Create -- {{formatvalue name}}</h2>
            <div class="list-group">
                {{partial 'product/form' isEditing=isEditing this=controller.newProduct}}
                <li class="list-group-item">
                    <button type="button" class="btn btn-sm" title="Create new product" {{action 'saveNewProduct'}}>
                    <span class="glyphicon glyphicon-ok"></span> Create
                    </button>
                    <button type="button" class="btn btn-sm" title="Cancel new product" {{action 'cancelNewProduct'}}>
                    <span class="glyphicon glyphicon-remove"></span> Cancel
                    </button>
                </li>
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="product/_form">
        {{#if id}}
            <li class="list-group-item">
                <div class="row">
                    <div class="col-md-5">Id</div>
                    <div class="col-md-5">{{id}}</div>
                </div>
            </li>
        {{/if}}
        {{#if isEditing}}
            <li class="list-group-item">
                <div class="row">
                    <div class="col-md-5">Name</div>
                    <div class="col-md-5">{{input class="form-control" placeholder="Name of product" value=name}}</div>
                </div>
            </li>
        {{/if}}
        <li class="list-group-item">
            <div class="row">
                <div class="col-md-5">Price</div>
                <div class="col-md-5">
                    {{#if isEditing}}
                        {{input class="form-control" placeholder="Price of product" value=price}}
                    {{else}}
                        {{formatvalue price placeholder='?'}}&nbsp; {{pluralize price single='token'}}
                    {{/if}}
                </div>
            </div>
        </li>
        <li class="list-group-item">
            <div class="row">
                <div class="col-md-5">Category</div>
                <div class="col-md-5">
                    {{#if isEditing}}
                        {{input class="form-control" placeholder="Category of product" value=category}}
                    {{else}}
                        {{formatvalue category}}
                    {{/if}}
                </div>
            </div>
        </li>
    </script>

</head>
<body>

</body>
</html>
